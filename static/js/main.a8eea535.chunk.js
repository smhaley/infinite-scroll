(this["webpackJsonpinfinite-scroll"]=this["webpackJsonpinfinite-scroll"]||[]).push([[0],{47:function(n,e,t){},51:function(n,e,t){"use strict";t.r(e);var i=t(29),c=t(41),r=t(2),a=t.n(r),s=t(34),o=t.n(s),d=(t(47),t(16)),l=t(10),j=t(13),b=t(66),h=t(68);var p,x,g,u,f,O,m,v,w,y=t(3),I=j.a.nav(p||(p=Object(l.a)(["\n  background: #0147fa;\n  height: 80px;\n  display: flex;\n  top: 0;\n  justify-content: space-between;\n  z-index: 10;\n  position: fixed;\n  width: 100%;\n  height: 70px;\n  box-shadow: 0 8px 10px -8px rgba(0, 0, 0, 0.3);\n"]))),k=j.a.div(x||(x=Object(l.a)(["\n  color: white;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding-left: 2rem;\n  height: 100%;\n  font-size: 1.5rem;\n  font-weight: 700;\n"]))),C=j.a.div(g||(g=Object(l.a)(["\n  margin: 20px;\n  padding: 10px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n  transition: 0.3s;\n  max-width: 250px;\n  &:hover {\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\n  }\n  img {\n    width: 100%;\n  }\n"]))),S=j.a.div(u||(u=Object(l.a)(["\n  margin-top: 120px;\n  padding-left: 20px;\n  padding-right: 20px;\n  font-size: 1.5rem;\n  text-align: center;\n"]))),F=j.a.div(f||(f=Object(l.a)(["\n  margin-top: 1rem;\n  padding: 1rem;\n  position: relative;\n  bottom: 0;\n  left: 0;\n  height: 60px;\n  text-align: center;\n  font-size: 1.5rem;\n  font-weight: 700;\n"]))),z=j.a.div(O||(O=Object(l.a)(["\n  padding: 2px 16px;\n  min-height: 160px;\n"]))),L=j.a.section(m||(m=Object(l.a)(["\n  display: flex;\n  padding: 50px;\n  flex-direction: column;\n  align-items: center;\n  min-height: 100vh;\n"]))),M=j.a.div(v||(v=Object(l.a)(["\n  padding: 10px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]))),A=Object(b.a)(w||(w=Object(l.a)(["\n  query getChars($page: Int) {\n    characters(page: $page) {\n      info {\n        __typename\n        next\n        pages\n      }\n      results {\n        id\n        name\n        image\n        status\n        location {\n          name\n        }\n      }\n    }\n  }\n"]))),B=function(n){var e=n.loading,t=n.data;return Object(y.jsx)("div",{children:e?Object(y.jsx)("p",{children:"Loading ..."}):Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(M,{children:t&&t.characters.results.map((function(n){return Object(y.jsxs)(C,{children:[Object(y.jsx)("img",{src:n.image,alt:n.name}),Object(y.jsxs)(z,{children:[Object(y.jsx)("h4",{children:Object(y.jsx)("b",{children:n.name})}),Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"Status:"})," ",n.status]}),Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"Location:"})," ",n.location.name]})]},n.id+n.name+"container")]},n.id+n.name+"card")}))})})})},E=function(){var n=Object(r.useState)(!1),e=Object(d.a)(n,2),t=e[0],i=e[1],c=Object(r.useRef)(null),a=function(n,e){var t=e.threshold,i=void 0===t?0:t,c=e.root,a=void 0===c?null:c,s=e.rootMargin,o=void 0===s?"0%":s,l=e.freezeOnceVisible,j=void 0!==l&&l,b=Object(r.useState)(),h=Object(d.a)(b,2),p=h[0],x=h[1],g=(null===p||void 0===p?void 0:p.isIntersecting)&&j,u=function(n){var e=Object(d.a)(n,1)[0];x(e)};return Object(r.useEffect)((function(){console.log("fire");var e=null===n||void 0===n?void 0:n.current;if(window.IntersectionObserver&&!g&&e){var t=new IntersectionObserver(u,{threshold:i,root:a,rootMargin:o});return t.observe(e),function(){return t.disconnect()}}}),[n,i,a,o,g]),p}(c,{}),s=!!(null===a||void 0===a?void 0:a.isIntersecting),o=Object(h.a)(A,{variables:{page:1}}),l=o.loading,j=o.data,b=o.fetchMore,p=Object(r.useCallback)((function(){if(j){var n=j.characters.info.next;j&&n&&!l?b({variables:{page:n}}):n||i(!0)}}),[j,l,b]);return Object(r.useEffect)((function(){s&&p()}),[s,p]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{children:Object(y.jsx)(k,{children:"Slick Rick."})}),Object(y.jsxs)(S,{children:["Infinite Scroll using: ",Object(y.jsx)("b",{children:"Appolo Client V3"})," &"," ",Object(y.jsx)("b",{children:"Intersection Observer"})]}),Object(y.jsx)(L,{children:Object(y.jsx)(B,{loading:l,data:j})}),t?Object(y.jsx)(F,{children:"That's All!"}):Object(y.jsx)(F,{ref:c,children:"Bottom"})]})},P=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,70)).then((function(e){var t=e.getCLS,i=e.getFID,c=e.getFCP,r=e.getLCP,a=e.getTTFB;t(n),i(n),c(n),r(n),a(n)}))},T=t(67),q=t(65),J=t(64),R=["results"],V=new T.a({typePolicies:{Query:{fields:{characters:{keyArgs:!1,merge:function(n,e){if(!e)return n;if(!n)return e;var t=e.results,r=Object(c.a)(e,R);return r.results=[].concat(Object(i.a)(n.results),Object(i.a)(t)),r}}}},Character:{fields:{name:{read:function(n){return n.toUpperCase()}}}}}}),$=new q.a({uri:"https://rickandmortyapi.com/graphql",cache:V});o.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(J.a,{client:$,children:Object(y.jsx)(E,{})})}),document.getElementById("root")),P()}},[[51,1,2]]]);
//# sourceMappingURL=main.a8eea535.chunk.js.map